<!DOCTYPE html>
<html>

  <head>
   
    <title><%= content_for(:title) || "Community Resource App" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

 
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>

  <header>
    <nav>

      <!-- Navigation blue bar -->
      <div class="nav__left">
        <a class="logo--white" href="/">Mini Case Management Tool</a>
      </div>
      <div class="nav__right">
        <i id="nav__open-menu-button" class="nav__open-menu-button fa fa-bars" aria-hidden="true"></i>
      </div>

      <!-- Navigation menu -->
      <div id="nav__menu" class="nav__menu nav__menu--closed-state">
        <span id="nav__close-menu-button" class="nav__close-menu-button">X</span>
        <ul class="nav__link-list">
          <li class="nav__link"><a href="/">Home</a></li>
          <li class="nav__link"><a href="/in_person_interest_resources">Interest-Based Activities</a></li>
          <li class="nav__link"><a href="/in_person_recovery_resources">Substance Recovery Resources</a></li>
          <li class="nav__link"><a href="/online_peer_and_recovery_resources">Online Peer Groups</a></li>
        </ul>
      </div>

    </nav>

    

    <script>
    $(function() {

      const navMenu = $("#nav__menu");
      const navOpenBtn = $("#nav__open-menu-button");
      const navCloseBtn = $("#nav__close-menu-button");

      //Open navigation menu
      navOpenBtn.click(function(){
        navMenu.removeClass("nav__menu--closed-state");
        navMenu.addClass("nav__menu--fade-in");
      });

      //Close navigation menu
      navCloseBtn.click(function(){
        navMenu.addClass("nav__menu--closed-state");
        navMenu.removeClass("nav__menu--fade-in");
      });
    });
    </script>

    <style>

      @keyframes fadeIn {
        0% { opacity: 0; }
        100% { opacity: 1; }
      }

      header {
        background:rgb(46, 56, 162);
        color: white;
        font-weight: 700;
        padding: 30px;
        position: fixed;
        width: 100%;
      }

      nav {
        display: flex;
      }

      .nav__left {
        flex:6;
        font-size: 18px;
      }

      .nav__right {
        flex:1;
        text-align: right;
      }

      .nav__menu {
        text-align: center;
        position: absolute;
        padding: 10px;
        background: rgb(46, 56, 162);
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        height: 100vh;
        position: fixed;
      }

      .nav__menu--closed-state {
        display: none;
      }

      .nav__menu--fade-in { animation: fadeIn .5s; }

      .nav__link-list {
        list-style-type: none;
        padding: 10px;
      }

      .nav__link {
        color: white;
        font-size: 1.8em;
        line-height: 1.4em;
        padding: 20px 0;
      }

      .nav__link > a {
        color: white;
      }

      .nav__open-menu-button {
        font-size: 1.4em;
      }

      .nav__close-menu-button {
        display: block;
        text-align: right;
        font-size: 2em;
        margin-right: 10px;
        margin-top: 10px;
      }

      .logo--white {
        color: white;
      }

      
    </style>
  </header>
  <body>
    <div class="container text-center">
      <%= yield %>
    </div>
  </body>
  <footer>
    Resource maintained by <a href="https://callbubbie.org" target="_blanket">Call Bubbie</a> Â© 2024. Please credit back to Call Bubbie if resource is linked.
  </footer>
</html>
